<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>ðŸ¦Œ Moose Fishing Adventure</title>
  <style>
    body { background: #87CEEB; margin: 0; overflow: hidden; }
    canvas { background: #ADD8E6; display: block; margin: 0 auto; }
  </style>
</head>
<body>
  <canvas id="gameCanvas" width="600" height="400"></canvas>

  <script>
    const canvas = document.getElementById('gameCanvas');
    const ctx = canvas.getContext('2d');
    const fishColors = ['orange', 'green', 'purple', 'yellow'];
    let fishArray = [];
    const maxFish = 8;

    // Hook state
    let hook = { x: canvas.width / 2, y: 50, isDropping: false, dy: 5 };

    // Initialize fish
    class Fish {
      constructor() {
        this.reset();
      }
      reset() {
        this.size = 20 + Math.random() * 10;
        this.x = Math.random() < 0.5 ? -this.size : canvas.width + this.size;
        this.y = 150 + Math.random() * (canvas.height - 200);
        this.speed = (2 + Math.random() * 2) * (this.x > canvas.width/2 ? -1 : 1);
        this.color = fishColors[Math.floor(Math.random() * fishColors.length)];
        this.caught = false;
      }
      update() {
        if (!this.caught) {
          this.x += this.speed;
          if (this.x < -this.size || this.x > canvas.width + this.size) this.reset();
        }
      }
      draw() {
        ctx.fillStyle = this.color;
        ctx.beginPath();
        ctx.ellipse(this.x, this.y, this.size/2, this.size/3, 0, 0, Math.PI * 2);
        ctx.fill();
        // tail
        ctx.beginPath();
        if (this.speed > 0) {
          ctx.moveTo(this.x - this.size/2, this.y);
          ctx.lineTo(this.x - this.size/2 - 5, this.y - 5);
          ctx.lineTo(this.x - this.size/2 - 5, this.y + 5);
        } else {
          ctx.moveTo(this.x + this.size/2, this.y);
          ctx.lineTo(this.x + this.size/2 + 5, this.y - 5);
          ctx.lineTo(this.x + this.size/2 + 5, this.y + 5);
        }
        ctx.fill();
      }
    }

    function spawnFish() {
      if (fishArray.length < maxFish) fishArray.push(new Fish());
    }

    function update() {
      fishArray.forEach(f => f.update());
      // Update hook
      if (hook.isDropping) {
        hook.y += hook.dy;
        if (hook.y >= canvas.height - 10) hook.isDropping = false;
      }
      // Check collisions
      fishArray.forEach(f => {
        if (!f.caught && hook.isDropping === false && 
            Math.hypot(f.x - hook.x, f.y - hook.y) < f.size) {
          f.caught = true;
          f.color = 'gray';
          setTimeout(() => f.reset(), 1000);
        }
      });
    }

    function draw() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      // Draw water
      ctx.fillStyle = '#1E90FF';
      ctx.fillRect(0, 100, canvas.width, canvas.height - 100);
      // Draw boat
      ctx.fillStyle = 'saddlebrown';
      ctx.fillRect(canvas.width/2 - 50, 30, 100, 20);
      ctx.fillStyle = 'white';
      ctx.beginPath();
      ctx.moveTo(canvas.width/2 - 40, 30);
      ctx.lineTo(canvas.width/2, -20);
      ctx.lineTo(canvas.width/2 + 40, 30);
      ctx.fill();
      // Draw hook
      ctx.strokeStyle = '#555';
      ctx.lineWidth = 2;
      ctx.beginPath();
      ctx.moveTo(canvas.width/2, 50);
      ctx.lineTo(hook.x, hook.y);
      ctx.stroke();
      ctx.fillStyle = '#555';
      ctx.beginPath();
      ctx.arc(hook.x, hook.y, 5, 0, Math.PI * 2);
      ctx.fill();
      // Draw fish
      fishArray.forEach(f => f.draw());
    }

    function loop() {
      spawnFish();
      update();
      draw();
      requestAnimationFrame(loop);
    }

    canvas.addEventListener('click', (e) => {
      const rect = canvas.getBoundingClientRect();
      hook.x = e.clientX - rect.left;
      hook.y = 50;
      hook.isDropping = true;
    });

    loop();
  </script>
</body>
</html>
